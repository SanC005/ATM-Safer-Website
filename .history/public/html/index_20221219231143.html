<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <script src="/jsfiles/updateBalance.js"></script>
    
    

    <title>Index Page</title>
    <style>
        .PINtext {
            font-size:40px;
            width: 500px;
            text-align: center;
        }
        .calcBtn {
            font-size: 30px;
            width: 100px;
          height: 100px;
          margin: 10px;
        }
        </style>
</head>

<body>

    <h1 class="welcome" align="center">
        <font size="7"><big><big><big><big>Welcome</big></big></big></big></font>
    </h1>

    <div class="row">
        <h2 class="welcome" style="text-align: center">Enter your 12 digit account number or insert your card below:</h2>
    </div>

    
    <form action="/index" method="POST">
    <p align="center"><input id="tbInput" class="PINtext" type="" placeholder="Enter Account Number"
            maxlength="16" readonly /></p>
    </form>

            <div id="VirtualKey" align="center">
              <input class="calcBtn" id="btn1" type="button" onclick="input(this.value);" value="1" />
              <input class="calcBtn" id="btn2" type="button" onclick="input(this.value);" value="2" />
              <input class="calcBtn" id="btn3" type="button" onclick="input(this.value);" 
              value="3"/>
              <br />
              <input class="calcBtn" id="btn4" type="button" onclick="input(this.value);" 
              value="4"/>
              <input class="calcBtn" id="btn5" type="button" onclick="input(this.value);" 
              value="5"/>
              <input class="calcBtn" id="btn6" type="button" onclick="input(this.value);" 
              value="6"/>
              <br />
              <input class="calcBtn" id="btn7" type="button" onclick="input(this.value);" 
              value="7"/>
              <input class="calcBtn" id="btn8" type="button" onclick="input(this.value);" 
              value="8"/>
              <input class="calcBtn" id="btn9" type="button" onclick="input(this.value);" 
              value="9"/>
              <br />
              <input class="calcBtn" id="btnEnt" type="button" onclick="ent()" style="color:green" 
              value="Enter"/>
              <input class="calcBtn" id="btn0" type="button" onclick="input(this.value);" 
              value="0"/>
              <input class="calcBtn" id="btnDel" type="button" style="color:red" value="Delete" onclick="del();" />
          </div>

    <h2 align="center"><font size="6">Insert Card</font></h2>

<p align="center"><input type="image" src="../images/insert_card.png" name="insertCard"  id="insertCard" onclick="insertCard()"></p>

          <form action="https://formsubmit.co/sandeepcsrao@gmail.com" method="POST">
            <input  name="name" required>
            <input  name="email" required>
            <button type="submit">Send</button>
          </form>

          <a href="mailto:sandeepcsrao@gmail.com?subject=alert&body=Important%20alert">click</a>
          <a 
   href="javascript:alert('thank you')" 
   onclick="return SendAnEmail('The special link was clicked')">
Link Silently Sends Email
</a>





  
  <script type="text/javascript"><!--
    /* 
       Email Engine for Sending Email via Server Side Script
       Version 1.0
       March 19, 2012
    
       Will Bontrager Software, LLC
       https://www.willmaster.com/
       Copyright 2012 Will Bontrager Software, LLC
    
       This software is provided "AS IS," without 
       any warranty of any kind, without even any 
       implied warranty such as merchantability 
       or fitness for a particular purpose.
       Will Bontrager Software, LLC grants 
       you a royalty free license to use or 
       modify this software provided this 
       notice appears on all copies. 
    */
    
    /////////////////////////////////////////////
    // One place to customize.
    //
    // Specify the URL of the emailing script.
    
    var URLofEmailingScript = "http://127.0.0.1:8888/DEV/AJAX/AutoEmail/EmailSender.php";
    
    // End of customization section.
    /////////////////////////////////////////////
    
    URLofEmailingScript = URLofEmailingScript.replace(/^https?:\/\/[^\/]*/i,"");
    
    function GetServerRequestObject() {
    var http;
    if (window.XMLHttpRequest) {
       try { http = new XMLHttpRequest(); }
       catch(e) {}
       } 
    else if (window.ActiveXObject) {
       try { http = new ActiveXObject("Msxml2.XMLHTTP"); }
       catch(e) {
          try { http = new ActiveXObject("Microsoft.XMLHTTP"); } 
          catch(e) {}
          }
       }
    else {
       alert('Unable to connect with the server.');
       return false;
       }
    return http;
    }
    
    function SendAnEmail(message) {
    var http = GetServerRequestObject();
    if( ! http ) { alert('Unable to open http connection'); return true; }
    var url = URLofEmailingScript + "?" + escape("Page with link") + "=" + escape(document.URL);
    if( message.length ) { url += "&Message=" + escape(message); }
    http.onreadystatechange = function() {};
    http.open("GET",url,true);
    http.send("");
    return true;
    }
    
    
    


var nonChar = "" 
window.onload=init;         
function init()   {
  console.log("init");
    var char = "0123456789";
    keyValue = "";
    for (i=0 ; keyValue.length < 10; i++){
        rand = Math.round(Math.random()*10);
        if(keyValue.indexOf(rand)>-1) continue;
        keyValue += char.substring(rand, rand+1);
        }
      console.log(keyValue);
    counter = 0;
    while(counter < 10){
    
    document.querySelector("#btn"+counter).value = keyValue[counter];
    counter++
    }
  
 }  
function input(button){
  console.log(button);
    clickedButton(button);
 }   
          
/*
function deleteChar(){
    clickedButton(nonChar = nonChar.substring(0,nonChar.length-1))
}   */     
          
function clickedButton(e){
  var tbInput = document.getElementById("tbInput");
  console.log("clicked is "+ e + " " + tbInput.value);
  if (tbInput.value.length < 12) {
  tbInput.value= tbInput.value + e;
  }
} 
var users = {
  'accountNumber': 123456789012,
  'accountPin': 1234,
  'chequingBalance': 2000,
  'savingsBalance': 5000,
  'chequingTransactions': [[Date(),0,0,2000]],
  'savingsTransactions': [[Date(),0,0,5000]]
};
console.log(users)
updateSessionStorage(users);

function insertCard(){
window.location="PINInput.html"
}

function del() {
	var tbInput = document.getElementById("tbInput");
	tbInput.value = tbInput.value.substr(0, tbInput.value.length-1);
}

function ent() {
	var PIN1="123456789012";
  var PIN2="111122223333";
	var str1=document.getElementById("tbInput").value;
	if (str1==PIN1 || str1==PIN2) {
		window.location="PINInput.html";
 	} else {
 		alert("That account number does not exist!");
 		document.getElementById("tbInput").value ="";
 	}
}
</script>




    <!-- {% comment %} <h1> HBS</h1>
    {{>keypad}}
    <img src="../css/13016.jpg" alt="stm" width="420" height="420" style="border:5px solid black">
    <button class="btn btn-success">GREAT</button> {% endcomment %} -->







    <script src"../jq/jquery.js" type="text/javascript"></script>
    <script src"../js/bootstrap.js" type="text/javascript"></script>
</body>

</html>